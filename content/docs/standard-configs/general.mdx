---
title: general.yml - Основные настройки
description: Основные настройки BaronessAuth
---

# Файл `general.yml`

Основные настройки BaronessAuth. Сюда попадают только небольшие настройки, которые некуда направить. Большая часть настроек находится в других файлах.

## 📋 Содержимое файла

```yml
# ┌────────────────────────────────
# │ Общие настройки BaronessAuth.
# │ 
# │ Сюда попадают только небольшие настройки, которые некуда направить.
# │ Большая часть настроек находится в других файлах.
# └────────────────────────────────

# ----------------------------------------------------------------------

# ┌────────────────────────────────
# │ Настройки подключения к базе данных.
# └────────────────────────────────
database:
  # ┌────────────────────────────────
  # │ Тип базы данных для подключения.
  # │ Можно указать:
  # │ - H2           работает без настроек, данные хранятся в папке
  # │ - SQLite       работает без настроек, данные хранятся в папке (не рекомендуется)
  # │ - HSQLDB       работает без настроек, данные хранятся в папке (не рекомендуется)
  # │ - MySQL        требует настроек подключения
  # │ - MariaDB      требует настроек подключения (лучше, чем MySQL)
  # │ - PostgreSQL   требует настроек подключения
  # │
  # │ [!] Любые изменения настроек в этой секции требуют полной перезагрузки BungeeCord!
  # └────────────────────────────────
  type: 'H2'

  # Адрес (IP).
  address: 'localhost'

  # Порт. Плагин знает стандартные - укажите 0, чтобы он подставил нужный сам.
  port: 0

  # Имя базы данных.
  database: 'mydatabase'

  # Пользователь.
  username: 'user'

  # Пароль.
  password: 'password'

# ┌────────────────────────────────
# │ Настройки серверов.
# └────────────────────────────────
servers:
  # ┌────────────────────────────────
  # │ Сервера, на которых игрок будет находиться, пока ещё не авторизовался.
  # │
  # │ Если вы используете формат вида domain.com:server_name,
  # │ игроки с domain.com всегда будут подключаться к этим серверам.
  # │
  # │ Если серверов указано несколько, плагин будет отправлять на тот, у которого наименьший онлайн.
  # │ Чтобы это работало, включите у них server.properties -> enable-status=true
  # └────────────────────────────────
  auth:
  - 'auth'

  # ┌────────────────────────────────
  # │ Сервера, на которые игрок будет отправляться после успешной авторизации.
  # │
  # │ Если вы используете формат вида domain.com:server_name,
  # │ игроки с domain.com всегда будут подключаться к этим серверам.
  # │
  # │ Если серверов указано несколько, плагин будет отправлять на тот, у которого наименьший онлайн.
  # │ Чтобы это работало, включите у них server.properties -> enable-status=true
  # └────────────────────────────────
  lobby:
  - 'lobby'

  # ┌────────────────────────────────
  # │ Сервера, для доступа к которым игрок ОБЯЗАН иметь какую-либо привязку.
  # │
  # │ Вы НЕ должны вписывать сюда auth/lobby сервера.
  # │ Только обычные, куда игрока направляют другие плагины.
  # └────────────────────────────────
  require-link:
    list:
    - 'super-duper-secure-server'
    message: '<red>Вы должны иметь привязку, чтобы войти на этот сервер - /link.'
    bypass-permission:
      enabled: false
      value: 'BaronessAuth.bypass.require_link'

  # ┌────────────────────────────────
  # │ Автоматическое создание лимбо-серверов.
  # │ Такие сервера представляют собой минималистичный сервер с поддержкой версий от 1.9 до 1.21.8.
  # │ 
  # │ Пожалуйста, прочтите этот небольшой гайд, чтобы лучше понимать настройку:
  # │ https://blackbaroness.github.io/docs/pages/baronessauth/guide/embedded-servers.html#%D0%BF%D0%BE%D0%BB%D0%BD%D1%8B%D0%B8
  # │ 
  # │ Пользуясь сервером типа "full", вы соглашаетесь с EULA (https://aka.ms/MinecraftEULA).
  # │ [!] Любые изменения настроек в этой секции требуют полной перезагрузки BungeeCord!
  # └────────────────────────────────
  embedded-servers:
    'auth': !<full>
      # Включён ли сервер? Позволяет отключить его, не удаляя из конфига.
      enabled: true
      # Если указан порт 0, плагин автоматически выберет свободный - менять необязательно.
      port: 0
      # Максимальное количество RAM для сервера.
      max-ram: '1 GB'
      # Схема мира (файл .schematic).
      schematic: 'default-auth.schem'
      # Время на сервере (в тиках).
      time: 12040
      # Погода на сервере.
      weather: true

automatic-dumps:
  enabled: true
  interval: '1 ч'

link-reminder:
  enabled: true
  delay: '3 сек'
  message: |-
    <hover:show_text:'<yellow>Правильно, сюда!'><click:run_command:'/link'><color:#ffaa3b>⚠️ <u>Ваш аккаунт уязвим!</u></color>
    <color:#ff9b69>Привяжите его, чтобы избежать взлома!
    Нажмите <u>сюда</u> для просмотра вариантов (/link).</color></click></hover>

general-logs:
  registrations:
    print-to-file: true
    print-to-console: true
    compression-threshold: '50 MB'
  logins:
    print-to-file: true
    print-to-console: true
    compression-threshold: '50 MB'
  password-changes:
    print-to-file: true
    print-to-console: true
    compression-threshold: '50 MB'
```

## 🔧 Основные секции

### Database
Настройки подключения к базе данных:
- **type** - тип базы данных (H2, MySQL, MariaDB, PostgreSQL)
- **address** - адрес сервера БД
- **port** - порт (0 для автоопределения)
- **database** - имя базы данных
- **username** - пользователь
- **password** - пароль

### Servers
Настройки серверов:
- **auth** - сервера для неавторизованных игроков
- **lobby** - сервера для авторизованных игроков
- **require-link** - сервера, требующие привязки аккаунта
- **embedded-servers** - автоматически создаваемые лимбо-сервера

### Автоматические функции
- **automatic-dumps** - автоматические дампы данных
- **link-reminder** - напоминания о привязке аккаунта
- **general-logs** - настройки логирования

## ⚠️ Важно

- Изменения в секции `database` требуют полной перезагрузки BungeeCord
- Изменения в секции `embedded-servers` требуют полной перезагрузки BungeeCord
- Использование серверов типа "full" требует согласия с EULA 